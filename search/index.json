[{"content":"博客的基础设置，主要以hugo.yaml文件为主。详细参考官方文件stack中文文档和stack官方文档\n以下所有修改操作请养成备份的习惯\n调试 部署到github上反复调试太过麻烦，可以使用以下方法：\n在blog主目录唤起CMD调试窗口 键入hugo server -D启动网页。复制http://localhost:1313/打开网页。 在hugo.yaml中更新的内容保存后，在http://localhost:1313/网页会立刻显现。 主页功能 中英文 DefaultContentLanguage：博客默认语言。设置为：zh-cn\n将languages下除zh-cn的语言删除\n1 2 3 4 5 6 7 8 DefaultContentLanguage: zh-cn languages: zh-cn: languageName: 简体中文 title: 林梦飞\t#站名 weight: 2 params: description: 演示说明\t头像、站名、简介 头像和简介设置\n1 2 3 4 5 6 7 sidebar: emoji: 🤣 subtitle: 欢迎来到我的blog，搭建中\t#blog简介 avatar:\t#blog头像 enabled: true local: true src: img/avatar.jpg\t#头像文件位置 本地路径：请把图片放在站点根目录的 assets/img 文件夹下。 例如 assets/img/avatar.jng, 并填入 img/avatar.jng. 图片最大支持150*150 网站图标 1 2 3 4 5 6 7 8 9 10 11 12 13 14 params:\tmainSections: post featuredImageField: image rssFullContent: true favicon: /favicon.ico footer:\t#页脚 since: 2024 customText: dateFormat: published: 2006-01-02\t#这里按照2006-01-02设置 lastUpdated: 2006-01-02 favicon存放ico图像，可以去网上找一个。存放在主目录的static文件夹下 社交链接 social:\t#ico文件在F:\\blog\\myblog\\assets\\icons - identifier: github name: GitHub url: https://github.com/hff0910 params: icon: brand-github ico文件存在主目录的\\assets\\icons内 icons文件可以直接从这里下载：Tabler Icons 友链、归档多列显示 修改assets/scss/custom.scss文件(不存在则自行创建)，引入以下css样式代码\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @media (min-width: 1024px) { .article-list--compact { display: grid; // 目前是两列，如需三列，则后面再加一个1fr，以此类推 grid-template-columns: 1fr 1fr; background: none; box-shadow: none; gap: 1rem; article { background: var(--card-background); border: none; box-shadow: var(--shadow-l2); margin-bottom: 8px; margin-right: 8px; border-radius: 16px; } } } 添加“回到顶部”按钮 准备一张svg格式的图片，放到assets/icons文件夹下(不存在则自行创建)\n将以下代码复制到layouts/partials/footer/custom.html文件中(不存在则自行创建)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 \u0026lt;style\u0026gt; #backTopBtn { display: none; position: fixed; bottom: 30px; z-index: 99; cursor: pointer; width: 30px; height: 30px; background-image: url({{ (resources.Get \u0026#34;icons/backTop.svg\u0026#34;).Permalink }}); } \u0026lt;/style\u0026gt; \u0026lt;script\u0026gt; /** * 滚动回顶部初始化 */ function initScrollTop() { let rightSideBar = document.querySelector(\u0026#34;.right-sidebar\u0026#34;); if (!rightSideBar) { return; } // 添加返回顶部按钮到右侧边栏 let btn = document.createElement(\u0026#34;div\u0026#34;); btn.id = \u0026#34;backTopBtn\u0026#34;; btn.onclick = backToTop rightSideBar.appendChild(btn) // 滚动监听 window.onscroll = function() { // 当网页向下滑动 20px 出现\u0026#34;返回顶部\u0026#34; 按钮 if (document.body.scrollTop \u0026gt; 20 || document.documentElement.scrollTop \u0026gt; 20) { btn.style.display = \u0026#34;block\u0026#34;; } else { btn.style.display = \u0026#34;none\u0026#34;; } }; } /** * 返回顶部 */ function backToTop(){ window.scrollTo({ top: 0, behavior: \u0026#34;smooth\u0026#34; }) } initScrollTop(); \u0026lt;/script\u0026gt; 代码块折叠按钮 准备一张向下展开图片(Ctrl+S保存)，放到assets/icons目录下\n将以下代码复制进layouts/partials/footer/custom.html(文件不存在则自行创建)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 \u0026lt;style\u0026gt; .highlight { /* 你可以根据需要调整这个高度 */ max-height: 400px; overflow: hidden; } .code-show { max-height: none !important; } .code-more-box { width: 100%; padding-top: 78px; background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(#fff)); position: absolute; left: 0; right: 0; bottom: 0; z-index: 1; } .code-more-btn { display: block; margin: auto; width: 44px; height: 22px; background: #f0f0f5; border-top-left-radius: 8px; border-top-right-radius: 8px; padding-top: 6px; cursor: pointer; } .code-more-img { cursor: pointer !important; display: block; margin: auto; width: 22px; height: 16px; } \u0026lt;/style\u0026gt; \u0026lt;script\u0026gt; function initCodeMoreBox() { let codeBlocks = document.querySelectorAll(\u0026#34;.highlight\u0026#34;); if (!codeBlocks) { return; } codeBlocks.forEach(codeBlock =\u0026gt; { // 校验是否overflow if (codeBlock.scrollHeight \u0026lt;= codeBlock.clientHeight) { return; } // 元素初始化 // codeMoreBox let codeMoreBox = document.createElement(\u0026#39;div\u0026#39;); codeMoreBox.classList.add(\u0026#39;code-more-box\u0026#39;); // codeMoreBtn let codeMoreBtn = document.createElement(\u0026#39;span\u0026#39;); codeMoreBtn.classList.add(\u0026#39;code-more-btn\u0026#39;); codeMoreBtn.addEventListener(\u0026#39;click\u0026#39;, () =\u0026gt; { codeBlock.classList.add(\u0026#39;code-show\u0026#39;); codeMoreBox.style.display = \u0026#39;none\u0026#39;; // 触发resize事件，重新计算目录位置 window.dispatchEvent(new Event(\u0026#39;resize\u0026#39;)) }) // img let img = document.createElement(\u0026#39;img\u0026#39;); img.classList.add(\u0026#39;code-more-img\u0026#39;); img.src = {{ (resources.Get \u0026#34;icons/codeMore.png\u0026#34;).Permalink }} // 元素添加 codeMoreBtn.appendChild(img); codeMoreBox.appendChild(codeMoreBtn); codeBlock.appendChild(codeMoreBox) }) } initCodeMoreBox(); \u0026lt;/script\u0026gt; 菜单栏 下面的方法应该是不对的，但是能用一下。\n在\\content\\page文件夹下新建一个文件夹例如：collection\n新建index.md文件。复制以下代码：\n1 2 3 4 5 6 7 8 9 10 title: \u0026#34;嘻嘻\u0026#34; date: 2019-05-28 layout: \u0026#34;collection\u0026#34; slug: \u0026#34;collection\u0026#34; comments: false menu: main: weight: -70 params: icon: collection\t#若找不到icon文件可以先改为search先用着 title：显示在页面的名字\ncollection：与文件名一致。icon文件存在主目录的\\assets\\icons内\n搜索hugo.yaml文件找到homepage。并添加collection项\n1 2 3 4 5 6 7 8 9 10 11 12 widgets:\t#部件（主页左边部分） homepage: - type: search - type: links params: limit: 5 - type: archives params: limit: 5 - type: collection\t#添加以下内容 params: limit: 5 评论功能 目前采用utterances评论系统，但是这个评论需要登录github不太方便。\n找到了waline评论系统，但是我很菜还没整明白。下面是waline的界面，我看到的大部分blog都是采用这种评论。\n统计功能（unami） unami官网在这里，注册并添加自己的域名。\n将下面的代码复制下来\n找到layouts/partials/head/custom.html文件复制代码即可\n最后就完成啦，可以看到访问量和用户来源地等等。查看网址：Websites | Umami Cloud\n我还不知道怎么把这个数据应用到自己的博客上，只能登录unami的网站看访问数据。\n文章功能完善 待完成回到顶部按钮 待完成 目录去序列号 ","date":"2024-11-21T00:00:00Z","image":"https://mqdfei.top/p/hugo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/image/liu_hu_6ad03472441f20d5.jpg","permalink":"https://mqdfei.top/p/hugo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/","title":"【Hugo】主题美化"},{"content":"md格式是近年来兴起的纯文本格式，主要用来写一些说明文档及Blog。\n以下为写Blog常用的基础语法\n基础语法 字体 加粗\n在需要加粗的文字前后加**即可。例：**加粗** == 加粗\n斜体\n在需要倾斜的文字前后加*即可。例：*倾斜* == 倾斜\n删除线\n在需要加删除线的文字前后加~~即可。例：~~倾斜~~ == 删除线\n标题 一、二、三\u0026hellip;级标题\n# 一号标题 ## 二号标题 ### 三号标题 以此类推，注意#和文字之间有一个空格\n有序无序列表\n有序列表\n无序列表\n插入附件 超链接\n格式：[显示的名字](需要跳转的链接)\n插入图片\n格式：![显示的名字 可以空着](图片的名称)\n这里的图片名称可以是url也可以是本地地址\n若是本地地址时，需要把图片和md文档放在一个路径下。或是下层路径，书写格式为：/file/image.png\n插入视频\n格式：{{\u0026lt; bilibili BV1bovfeaEtQ 1 \u0026gt;}}\n以Bilibili为例。\n其中BV1bovfeaEtQ为视频的bv号，数字1当视频为多p视频时选择用\n插入表格\n格式：|内容|内容|内容|\n插入代码块\n格式：程序段前后加上~~~\n插入引用\n格式：\u0026gt;加空格\n测试 ","date":"2024-09-16T00:00:00Z","image":"https://mqdfei.top/p/mdmarkdown%E5%8D%9A%E5%AE%A2%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/image/fengmian_hu_4257fbf708612631.jpg","permalink":"https://mqdfei.top/p/mdmarkdown%E5%8D%9A%E5%AE%A2%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/","title":"【MD】markdown博客常用语法"},{"content":"参考视频 1环境准备 1.1Git下载 前往【Git官网】，速度慢可以在这里下载。（密码:4rx6）蓝奏云真是个好东西啊，可惜只能100M以内。有钱了我一定冲个会员哈哈哈。\n修改安装位置后，默认安装即可。\n1.2Hugo下载 前往【Hugo Github Tags】，速度慢可以在这里下载。选择对应版本下载并解压\nWindows下载版本：hugo_extended_xxxxx_windows_amd64.zip\n2搭建博客 2.1创建博客 解压上一步下载的hugo_extended_xxxxx_windows_amd64.zip并复制hugo.exe到自己要建立Blog的文件夹下。以我这里实例为F:\\blog\n在hugo所在文件夹的地址栏打出cmd，然后Enter唤起命令行\n敲出命令hugo new site xxx创建hugo文件\n敲出命令cd xxx进入hugo文件夹（以下称该文件夹为主文件夹），并将hugo.exe文件复制到创建的文件夹内\n敲打命令hugo server -D启动服务，访问http://localhost:1313，Ctrl+C停止服务 （hugo默认是没有主题的，需要进行主题配置）\n2.2配置主题 前往【[Hugo Themes](Complete List | Hugo Themes (gohugo.io))】，查找自己喜欢的主题，进行下载\n这边以【Stack主题】为例，将下载好的主题解压，放到你Blog的/themes文件夹中\n将exampleSite样例数据中的 Content 和 hugo.yaml 复制到主文件夹中，并删掉主文件夹下的hugo.toml和content/post/rich-content\n修改 hugo.yaml 中的 theme，将他修改为跟主题文件夹同名\n再次启动hugo服务（在Blog主文件夹下召唤命令行后，键入hugo server -D命令），查看主题。具体主题配置修改 hugo.yaml，下方主题个性化详解\n3Github部署 3.1常规部署 前往【Github官网】，创建仓库 {github用户名}.github.io\n前往Setting -\u0026gt; Pages -\u0026gt; Branch选择main分支，然后保存，会自动开启 https://{github用户名}.github.io 的地址，这地址也是以后访问博客的地址\n回到hugo文件中，执行命令hugo -D，会生成 public 静态资源文件夹\n在 public 执行以下命令上传到github仓库上，第一次上传可能需要输入账号密码\n上传成功后访问 https://{github用户名}.github.io，成功搭建属于自己的Hugo博客\n1 2 3 4 5 6 7 在public文件夹下右键打开Git，输入以下命令生成Hugo博客 git init git add . git commit -m \u0026#34;first commit\u0026#34; git branch -M main git remote add origin {你的github仓库地址} git push -u origin main 3.2Github Action自动部署 Github创建一个新的仓库，用于存放Hugo的主文件\n前往Setttings -\u0026gt; Developer Settings -\u0026gt; Personal access tokens，创建一个token(classic)\ntoken选择永不过期，并勾选 repo 和 workflow 选项\n为保证安全，将生成的token，保存的仓库的变量中，前往Settings -\u0026gt; Secrets and variables -\u0026gt; Actions中设置\n在hugo主文件创建一个.github/workflows/xxxx.yaml文件，将以下内容复制进去，想具体了解更多，可查看【Github Action文档】\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 name: deploy # 代码提交到main分支时触发github action on: push: branches: - main jobs: deploy: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v4 with: fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \u0026#34;latest\u0026#34; extended: true - name: Build Web run: hugo -D - name: Deploy Web uses: peaceiris/actions-gh-pages@v4 with: PERSONAL_TOKEN: ${{ secrets.你的token变量名 }} EXTERNAL_REPOSITORY: 你的github名/你的仓库名 PUBLISH_BRANCH: main PUBLISH_DIR: ./public commit_message: auto deploy 在hugo主文件创建.gitignore文件，来避免提交不必要的文件\n1 2 3 4 5 6 7 # 自动生成的文件 public resources .hugo_build.lock # hugo命令 hugo.exe 将hugo的主文件上传到仓库，上传成功后会触发Github Action，来自动部署你的静态页面\n1 2 3 4 5 6 git init git add . git commit -m \u0026#34;first commit\u0026#34; git branch -M main git remote add origin {你的github仓库地址} git push -u origin main 3.3完成啦 文章可以直接在content/post目录下建立\n当你修改文件后想要同步到github并自动部署可以输入以下代码：\n1 2 3 4 git init git add . git commit -m \u0026#34;update\u0026#34; git push 声明 本文章借鉴letere的文章，顶部有原作者Bilibili视频\n","date":"2024-09-01T00:00:00Z","image":"https://mqdfei.top/p/hugohugo--github-%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/image/fengmian_hu_dd3c3a8ad9f60742.jpg","permalink":"https://mqdfei.top/p/hugohugo--github-%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/","title":"【Hugo】Hugo + Github 免费部署自己的博客"},{"content":"累了就休息，休息完继续 ","date":"2024-09-01T00:00:00Z","image":"https://mqdfei.top/p/template/image/liu_hu_6ad03472441f20d5.jpg","permalink":"https://mqdfei.top/p/template/","title":"Template"}]