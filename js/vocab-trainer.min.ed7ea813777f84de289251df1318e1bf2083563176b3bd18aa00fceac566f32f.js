class VocabTrainer{constructor(e){this.words=[],this.currentIndex=-1,this.isShowingAnswer=!1,this.config=e,this.fetchWordList(),this.bindEvents()}async fetchWordList(){try{const e=await fetch(this.config.githubUrl);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);this.words=await e.json(),this.words.length>0?this.nextWord():this.displayError("No words found in the list.")}catch(e){console.error("Failed to fetch word list:",e),this.displayError("Failed to load vocabulary. Please try again later.")}}nextWord(){this.currentIndex=(this.currentIndex+1)%this.words.length,this.displayWord(this.words[this.currentIndex]),this.isShowingAnswer=!1}displayWord(e){const s=document.getElementById("vocab-word"),o=document.getElementById("vocab-phonetic"),t=document.getElementById("vocab-meaning"),n=document.getElementById("vocab-example");s.textContent=e.word,o.textContent=e.phonetic||"",t.textContent=this.isShowingAnswer?e.meaning||"":"",n.textContent=this.isShowingAnswer?e.example||"":"",t.style.display=this.isShowingAnswer?"block":"none",n.style.display=this.isShowingAnswer?"block":"none"}showAnswer(){this.isShowingAnswer=!0,this.displayWord(this.words[this.currentIndex])}bindEvents(){const e=document.getElementById("vocab-show-answer");e&&e.addEventListener("click",()=>{this.showAnswer()});const t=document.getElementById("vocab-next");t&&t.addEventListener("click",()=>{this.nextWord()})}displayError(e){const t=document.getElementById("vocab-container");t&&(t.innerHTML=`<p class="error-message">${e}</p>`)}}document.addEventListener("DOMContentLoaded",function(){const e={githubUrl:"https://raw.githubusercontent.com/hff0910/WordBand/refs/heads/main/words.json"};window.vocabTrainer=new VocabTrainer(e)})